<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>zjy</title>
  
  <subtitle>zhaojianyin</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-09-23T05:18:41.990Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>zjy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mysql主从复制</title>
    <link href="http://yoursite.com/2017/09/21/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/"/>
    <id>http://yoursite.com/2017/09/21/mysql主从复制/</id>
    <published>2017-09-21T11:51:38.000Z</published>
    <updated>2017-09-23T05:18:41.990Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><hr><p>复制的基本原理：slave会从master读取binlog来进行数据同步</p><p>如何配置：</p><ul><li>注意：<ol><li>mysql版本一直（版本不一致可能出现问题）</li><li>如果是虚拟机要能够ping 通</li><li><img src="C:\Users\hp\Desktop\DREU6F3NF2U~CZH39ZRD]LB.png" alt="DREU6F3NF2U~CZH39ZRDLB"></li><li><img src="C:\Users\hp\Desktop\打发范德萨.png" alt="打发范德萨"></li><li>将windows的作为主机，linux的作为从机</li><li>两个机器都能ping同即可</li><li><img src="C:\Users\hp\Desktop\V6]$MB]_KVY4HF9Y$5KJLDL.png" alt="V6$MB_KVY4HF9Y$5KJLDL"></li><li><img src="C:\Users\hp\Desktop\213.png" alt="213"></li><li>主从配置（配置在mysqld下，小写）</li><li>主机windows为my.ini配置文件</li><li>修改之前一定要备份（严肃脸）<img src="C:\Users\hp\Desktop\sda.png" alt="sda"></li><li>从机linux为my.cnf配置文件（将mysql的配置文件复制到etc下并命名为my.cnf）</li><li>在my.cnf下找打server-id  = 1将其注释掉，找到server-id  = 2 将其注释打开（尽量最少的动作修改配置文件）</li><li>此时重启两台机器的mysql服务</li><li>关闭主机和从机的防火墙</li><li>linux关闭防火墙：service iptables stop</li><li>在windows主机上建立账户授权slave： GRANT REPLICATION SLAVE ON <em> . </em> TO ‘zhangsan’@’192.168.42.66’  IDENTIFIED BY ‘123456’; </li><li>授权给192.168.41.66的从机，账号为zhangsan，密码为123456</li><li>为了确保命令执行成功可以执行：flush privileges;</li><li>查看主机的状态：show master status </li><li>记录position<img src="C:\Users\hp\Desktop\rewqr.png" alt="rewqr"></li><li>在从机配置需要复制的主机：CHANGE MASTER TO MASTER_HOST=’主机ip’ MASTER_USER=’zhangsan’ ,MASTER_POSSWORD=’123456’, MASTER_LOG_FILE=’mysqlbin.数字’,MASTER_LOG_POS=具体位置</li><li>在从机启动复制服务：start slave</li><li>show slave status;</li><li>slave_IO_Running:yes 和  slave_SQL_Running：yes</li><li>此刻主从复制配置成功，可以在主机上操作复制的数据库，将会备份从机数据库</li></ol></li></ul>]]></content>
    
    <summary type="html">
    
      关于mysql的主从复制
    
    </summary>
    
      <category term="mysql" scheme="http://yoursite.com/categories/mysql/"/>
    
    
      <category term="mysql" scheme="http://yoursite.com/tags/mysql/"/>
    
      <category term="mysql主从复制" scheme="http://yoursite.com/tags/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/"/>
    
  </entry>
  
  <entry>
    <title>使用</title>
    <link href="http://yoursite.com/2017/09/13/first/"/>
    <id>http://yoursite.com/2017/09/13/first/</id>
    <published>2017-09-13T11:51:38.000Z</published>
    <updated>2017-09-21T12:39:44.781Z</updated>
    
    <summary type="html">
    
      第一次使用
    
    </summary>
    
      <category term="mysql" scheme="http://yoursite.com/categories/mysql/"/>
    
    
      <category term="user" scheme="http://yoursite.com/tags/user/"/>
    
  </entry>
  
</feed>
